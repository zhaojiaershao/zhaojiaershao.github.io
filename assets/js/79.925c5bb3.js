(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{665:function(t,s,a){"use strict";a.r(s);var e=a(11),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"跨端兼容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨端兼容"}},[t._v("#")]),t._v(" 跨端兼容")]),t._v(" "),a("h2",{attrs:{id:"注释编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注释编译"}},[t._v("#")]),t._v(" 注释编译")]),t._v(" "),a("p",[t._v("写法：以 "),a("strong",[a("code",[t._v("#ifdef")])]),t._v(" 或 "),a("strong",[a("code",[t._v("#ifndef")])]),t._v(" 加 "),a("strong",[a("code",[t._v("H5")])]),t._v(" 开头，以**"),a("code",[t._v("#endif")]),t._v("** 结尾。")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("#ifdef")])]),t._v(" : 仅在某平台显示")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("#ifndef")])]),t._v(" : 除了某平台都存在")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("H5")])]),t._v(" : 平台名称")])]),t._v(" "),a("h3",{attrs:{id:"平台值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台值"}},[t._v("#")]),t._v(" 平台值")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("值")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("平台")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("APP-PLUS")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("App")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("APP-PLUS-NVUE")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("App nvue")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("H5")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("H5")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-WEIXIN")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("微信小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-ALIPAY")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("支付宝小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-BAIDU")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("百度小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-TOUTIAO")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("字节跳动小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-QQ")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("QQ 小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP-360")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("360 小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("MP")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("微信小程序/支付宝小程序/百度小程序/字节跳动小程序/QQ 小程序/360 小程序")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("QUICKAPP-WEBVIEW")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("快应用通用(包含联盟、华为)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("QUICKAPP-WEBVIEW-UNION")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("快应用联盟")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("QUICKAPP-WEBVIEW-HUAWEI")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("快应用华为")])])])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("示例代码：")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" #ifdef "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t这里是h5显示\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" #endif "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" #ifndef "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t\t\t除了h5页面都会显示\n\t\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" #endif "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  #ifdef "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("WEIXIN")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        h5页面与微信小程序都显示\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" #endif  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"},[t._v("注意事项")]),a("p",[a("strong",[t._v("条件编译是利用注释实现的，在不同语法里注释写法不一样")]),t._v("，"),a("strong",[a("code",[t._v("js 使用 // 注释")])]),t._v("、"),a("strong",[a("code",[t._v("css 使用 /_ 注释 _/")])]),t._v("、"),a("strong",[a("code",[t._v("vue/nvue 模板里使用 \x3c!-- 注释 --\x3e")])])])]),a("blockquote",[a("p",[a("strong",[a("code",[t._v("示例代码：")])])])]),t._v(" "),a("h3",{attrs:{id:"js-的注释编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-的注释编译"}},[t._v("#")]),t._v(" JS 的注释编译")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("显示"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifdef  H5")]),t._v("\nuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n不显示"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #ifndef  H5")]),t._v("\nuni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #endif")]),t._v("\n")])])]),a("h3",{attrs:{id:"组件注释编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组件注释编译"}},[t._v("#")]),t._v(" 组件注释编译")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("显示\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  #ifdef "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        这里是h5显示\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  #endif "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n不显示\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  #ifndef "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("H5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        这里是h5显示\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("view"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("  #endif "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h3",{attrs:{id:"css-样式注释编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-样式注释编译"}},[t._v("#")]),t._v(" css 样式注释编译")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("显示\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  #ifdef H5 */")]),t._v("\n#app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("red\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  #endif  */")]),t._v("\n不显示\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  #ifndef H5 */")]),t._v("\n#app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("red\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*  #endif  */")]),t._v("\n")])])]),a("h2",{attrs:{id:"static-静态资源条件编译"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-静态资源条件编译"}},[t._v("#")]),t._v(" static 静态资源条件编译")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("在不同平台，引用的静态资源可能也存在差异，通过 static 的的条件编译可以解决此问题，static 目录下新建不同平台的专有目录（目录名称同 %PLATFORM% 值域,但字母均为小写），专有目录下的静态资源只有在特定平台才会编译进去。")])]),a("p",[a("strong",[a("code",[t._v("如以下目录结构，a.png 只有在微信小程序平台才会编译进去，b.png 在所有平台都会被编译。")])]),t._v("\n┌─static"),a("br"),t._v("\n│ ├─mp-weixin"),a("br"),t._v("\n│ │ └─a.png"),a("br"),t._v("\n│ └─b.png"),a("br"),t._v("\n├─main.js"),a("br"),t._v("\n├─App.vue"),a("br"),t._v("\n├─manifest.json"),a("br"),t._v("\n└─pages.json")]),t._v(" "),a("h2",{attrs:{id:"注意"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[t._v("#")]),t._v(" 注意")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("Android")]),t._v(" 和"),a("code",[t._v("iOS")]),t._v("平台不支持通过条件编译来区分，如果需要区分 Android、iOS 平台，请通过调用 "),a("code",[t._v("uni.getSystemInfo")]),t._v(" 来获取平台信息。支持 ifios、ifAndroid 代码块，可方便编写判断。")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);