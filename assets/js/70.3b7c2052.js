(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{652:function(t,s,a){"use strict";a.r(s);var e=a(11),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"部署上线"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署上线"}},[t._v("#")]),t._v(" 部署上线")]),t._v(" "),a("h2",{attrs:{id:"window-下-git-生成-ssh-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#window-下-git-生成-ssh-key"}},[t._v("#")]),t._v(" Window 下 git 生成 SSH Key")]),t._v(" "),a("h4",{attrs:{id:"_1、首先你要安装-git-工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、首先你要安装-git-工具"}},[t._v("#")]),t._v(" 1、首先你要安装 git 工具")]),t._v(" "),a("blockquote",[a("p",[t._v("下载地址： ——"),a("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"_2、右键鼠标-选中-git-bash-here-当然你也可以在-windows-的-开始-所以程序-或者安装目录打开它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、右键鼠标-选中-git-bash-here-当然你也可以在-windows-的-开始-所以程序-或者安装目录打开它"}},[t._v("#")]),t._v(" 2、右键鼠标，选中 “Git Bash here”，当然你也可以在 windows 的 “开始”---\x3e“所以程序”，或者安装目录打开它")]),t._v(" "),a("img",{attrs:{src:"/2.jpg"}}),t._v(" "),a("h4",{attrs:{id:"_3、输入指令-进入-ssh-文件夹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、输入指令-进入-ssh-文件夹"}},[t._v("#")]),t._v(" 3、输入指令，进入.ssh 文件夹")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("cd ~/.ssh/\n")])])]),a("img",{attrs:{src:"/3.jpg"}}),t._v(" "),a("h4",{attrs:{id:"_4、配置全局的-name-和-email-这里是的你-github-或者-bitbucket-的-name-和-email"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置全局的-name-和-email-这里是的你-github-或者-bitbucket-的-name-和-email"}},[t._v("#")]),t._v(" 4、配置全局的 name 和 email，这里是的你 github 或者 bitbucket 的 name 和 email")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("git config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("global user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你的用户名"')]),t._v("\ngit config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("global user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("email"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"你的公司或个人邮箱"')]),t._v("\n")])])]),a("h4",{attrs:{id:"_5、生成-key-ssh-keygen-t-rsa-c-你的公司或个人邮箱"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、生成-key-ssh-keygen-t-rsa-c-你的公司或个人邮箱"}},[t._v("#")]),t._v(' 5、生成 key > ssh-keygen -t rsa -C "你的公司或个人邮箱"')]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("连续按三次回车，这里设置的密码就为空了，并且创建了 key。 Your identification has\nbeen saved in /User/Admin/.ssh/id_rsa. Your public key has been saved in\n/User/Admin/.ssh/id_rsa.pub. The key fingerprint is: ………………\n")])])]),a("h4",{attrs:{id:"_6、打开-admin-目录进入-ssh-文件夹-用记事本打开-id-rsa-pub-复制里面的内容添加到你-github-或者-bitbucket-ssh-设置里即可"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6、打开-admin-目录进入-ssh-文件夹-用记事本打开-id-rsa-pub-复制里面的内容添加到你-github-或者-bitbucket-ssh-设置里即可"}},[t._v("#")]),t._v(" 6、打开 Admin 目录进入.ssh 文件夹，用记事本打开 id_rsa.pub，复制里面的内容添加到你 github 或者 bitbucket ssh 设置里即可")]),t._v(" "),a("p",[t._v("1."),a("img",{attrs:{src:"/4.jpg"}}),t._v(" 2."),a("img",{attrs:{src:"/5.jpg"}})]),t._v(" "),a("h4",{attrs:{id:"_7、测试是否添加成功-可以忽略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7、测试是否添加成功-可以忽略"}},[t._v("#")]),t._v(" 7、测试是否添加成功 ----------可以忽略")]),t._v(" "),a("p",[t._v("github 输入命令：")]),t._v(" "),a("blockquote",[a("p",[t._v("ssh git@github.com")])]),t._v(" "),a("h5",{attrs:{id:"您可能会看到如下警告"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#您可能会看到如下警告"}},[t._v("#")]),t._v(" 您可能会看到如下警告：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("> The authenticity of host 'github.com (IP ADDRESS)' can't be established. > RSA\nkey fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48. > Are you\nsure you want to continue connecting (yes/no)?\n")])])]),a("h5",{attrs:{id:"或者像这样"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#或者像这样"}},[t._v("#")]),t._v(" 或者像这样：")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("> The authenticity of host 'github.com (IP ADDRESS)' can't be established. > RSA\nkey fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8. > Are you\nsure you want to continue connecting (yes/no)?\n")])])]),a("h5",{attrs:{id:"验证您看到的消息中的指纹是否与步骤-2-中的某条消息匹配-然后输入-yes-回车"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证您看到的消息中的指纹是否与步骤-2-中的某条消息匹配-然后输入-yes-回车"}},[t._v("#")]),t._v(" 验证您看到的消息中的指纹是否与步骤 2 中的某条消息匹配，然后输入 yes 回车")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("> Hi username! You've successfully authenticated, but GitHub does not > provide\nshell access.\n")])])]),a("p",[t._v("验证生成的消息是否包含您的用户名。如果收到“权限被拒绝”消息，请参阅"),a("a",{attrs:{href:"https://help.github.com/en/articles/error-permission-denied-publickey",target:"_blank",rel:"noopener noreferrer"}},[t._v("“错误：权限被拒绝（公钥）”"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_8、在-github-的仓库里面添加一个密钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8、在-github-的仓库里面添加一个密钥"}},[t._v("#")]),t._v(" 8、在 github 的仓库里面添加一个密钥")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("在自己的github的首页，找到右上角的小三角里面的设置点开，找到SSH和GPG密钥或者SSH\nand GPG keys\n")])])]),a("blockquote",[a("p",[t._v("点击"),a("button",[t._v("新的 shh 密钥")])])]),t._v(" "),a("h4",{attrs:{id:"_9、这是-github-的添加-key-点击右上方的头像-选择设置-然后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、这是-github-的添加-key-点击右上方的头像-选择设置-然后"}},[t._v("#")]),t._v(" 9、这是 Github 的添加 key，点击右上方的头像，选择设置，然后")]),t._v(" "),a("img",{attrs:{src:"/6.jpg"}}),t._v(" "),a("h4",{attrs:{id:"_10、这是-github-添加-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、这是-github-添加-key"}},[t._v("#")]),t._v(" 10、这是 github 添加 key")]),t._v(" "),a("img",{attrs:{src:"/7.jpg"}}),t._v(" "),a("h2",{attrs:{id:"上传-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#上传-github"}},[t._v("#")]),t._v(" 上传 github")]),t._v(" "),a("h3",{attrs:{id:"创建一个-deploy-sh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个-deploy-sh"}},[t._v("#")]),t._v(" 创建一个 deploy.sh")]),t._v(" "),a("p",[t._v("在根目录下创建 deploy.sh 文件")]),t._v(" "),a("blockquote",[a("p",[t._v("touch deploy.sh")])]),t._v(" "),a("h2",{attrs:{id:"编写脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写脚本"}},[t._v("#")]),t._v(" 编写脚本")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token hashbang comment"}},[t._v("#!/usr/bin/env sh")]),t._v("\n\n# 确保脚本抛出遇到的错误\nset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e\n\n# 生成静态文件\nnpm run build\n\n# 进入生成的文件夹\ncd docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dist\n\n# 如果是发布到自定义域名\n# echo "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'www.example.com'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CNAME")]),t._v("\n\ngit init\ngit add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("\ngit commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n\n# 如果发布到 https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io\n# git push "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f git@github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git master\n\n# 如果发布到 https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REPO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n# git push "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f git@github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("REPO")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git master"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("gh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pages\n\ncd "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("\n")])])]),a("h3",{attrs:{id:"设置-package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-package-json"}},[t._v("#")]),t._v(" 设置 package.json")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"deploy"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bash deploy.sh"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("运行"),a("strong",[t._v("命令：")]),t._v(" "),a("strong",[t._v("npm run deploy")]),t._v(" 即可自动构建部署到 github 上。")]),t._v(" "),a("p",[a("strong",[t._v("详情请看")]),t._v(" "),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/deploy.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("部署"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);